# Disable printk, logging and shell
CONFIG_BOOT_BANNER=n
CONFIG_PRINTK=n

CONFIG_UART_CONSOLE=n
CONFIG_CONSOLE=n
CONFIG_USE_SEGGER_RTT=n

CONFIG_NET_SHELL=n
CONFIG_NET_L2_WIFI_SHELL=n

CONFIG_LOG_BACKEND_GOLIOTH=n
CONFIG_NET_LOG=n
CONFIG_LOG=n

# Disable floating point
CONFIG_CBPRINTF_FP_SUPPORT=n
CONFIG_CBPRINTF_NANO=y

# Trim down mbedTLS features/resources
CONFIG_MBEDTLS_KEY_EXCHANGE_RSA_ENABLED=n
CONFIG_MBEDTLS_HASH_SHA384_ENABLED=n
CONFIG_MBEDTLS_HASH_SHA512_ENABLED=n
CONFIG_MBEDTLS_MAC_MD5_ENABLED=n
CONFIG_MBEDTLS_MAC_SHA1_ENABLED=n
CONFIG_MBEDTLS_CIPHER_DES_ENABLED=n
CONFIG_MBEDTLS_CIPHER_MODE_CBC_ENABLED=n
CONFIG_MBEDTLS_SSL_MAX_CONTENT_LEN=1152
CONFIG_MBEDTLS_HEAP_SIZE=5632

# Thread stack sizes (based on `kernel stacks` output)
CONFIG_MAIN_STACK_SIZE=1024
CONFIG_ISR_STACK_SIZE=448
CONFIG_IDLE_STACK_SIZE=96
CONFIG_NET_MGMT_EVENT_STACK_SIZE=256
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=192
CONFIG_NET_RX_STACK_SIZE=160
CONFIG_GOLIOTH_SYSTEM_CLIENT_STACK_SIZE=2176
CONFIG_WIFI_ESP_AT_WORKQ_STACK_SIZE=512
CONFIG_WIFI_ESP_AT_RX_STACK_SIZE=512

# Reduce ESP-AT WiFi driver buffers
CONFIG_WIFI_ESP_AT_MDM_RING_BUF_SIZE=128
CONFIG_WIFI_ESP_AT_MDM_RX_BUF_COUNT=10

# Networking stack buffers/packets
CONFIG_NET_PKT_TX_COUNT=8
CONFIG_NET_BUF_RX_COUNT=9
CONFIG_NET_BUF_TX_COUNT=7
CONFIG_NET_MAX_CONN=2
CONFIG_NET_MAX_CONTEXTS=2
CONFIG_NET_IF_MCAST_IPV4_ADDR_COUNT=0

# Reduce heap usage
CONFIG_MINIMAL_LIBC_MALLOC_ARENA_SIZE=2560
